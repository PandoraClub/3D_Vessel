!function e(o,t,r){function n(a,s){if(!t[a]){if(!o[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};o[a][0].call(d.exports,function(e){var t=o[a][1][e];return n(t?t:e)},d,d.exports,e,o,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,o,t){"use strict";var r=e("../colors/colors-widget.js");window.appColorsWidget=r.ColorsWidget},{"../colors/colors-widget.js":2}],2:[function(e,o,t){"use strict";function r(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),i=e("../utils/js-helpers.js"),a=e("../utils/dom-utilities.js"),s=e("../core/i18labels.js"),l=function(){function e(o,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];r(this,e);var i=this;this.isOpened=!1,this.btn=o,this.referenz=n,this.filters=t||{},this._currentOption=null,this._node=function(){var e=void 0,r=void 0,n=void 0,l=void 0,c=void 0,d=void 0,u=void 0,v=void 0,p=void 0,h=[],f=void 0,g=void 0,m=void 0,_=void 0,O=void 0,T="colors-container-"+Math.round(1e5*Math.random());e=document.createElement("div"),e.className="colors-container",e.innerHTML="<h2>"+s.CLICK_TO_CHANGE_COLORS+"</h2>",e.id=T,f=document.createElement("div"),f.className="colors-container-top",r=document.createElement("SELECT"),r.id=T+"-dropdwn",f.appendChild(r),m=[];for(v in t)m.push({name:t[v].name,key:v});for(m=m.sort(function(e,o){return e.name>=o.name?1:-1}),_=0,O=m.length;_<O;_+=1)v=m[_].key,p=t[v],h.push("<option value='"+v+"'>"+p.name+"</option>");return r.innerHTML=h.join(""),l=document.createElement("button"),l.innerHTML="SAVE",f.appendChild(l),c=document.createElement("button"),c.innerHTML="CANCEL",f.appendChild(c),e.appendChild(f),n=document.createElement("ul"),n.className="colors-container-ulColors",n.id=T+"-ulColors",e.appendChild(n),d=document.createElement("div"),d.className="colors-container-colorPicker",d.id=T+"-colorPicker",e.appendChild(d),e.dropdwn=r,e.ulColors=n,e.colorPickerDiv=d,e.btnSave=l,e.btnCancel=c,e.colorsTemp={},document.body.appendChild(e),o&&(a.addEventLnr(o,"click",i.toggleHandler.bind(i)),a.addEventLnr(r,"change",i.dropFilterChanged.bind(i)),a.addEventLnr(c,"click",i.close.bind(i)),a.addEventLnr(l,"click",i.saveColors.bind(i)),a.addEventLnr(n,"click",i.selectOption.bind(i))),e}(),this.onToggled=null,this.onSaved=null,this.postUrl=null,this._jsonColors={}}return n(e,[{key:"mergeColorSettings",value:function e(o){var t=o,r=void 0,n=void 0,i=void 0,a=this.filters,l=void 0,c=void 0;if("String"==typeof o&&(t=JSON.parse(o)),!t.colors)return void console.warn(s.NO_COLOR_SETTINGS);for(r in t.colors)l=r.split("___"),a[l[0]]&&a[l[0]].obs.hasOwnProperty(l[1])&&(n=t.colors[r],a[l[0]].obs[l[1]].color=n,a[l[0]].obs[l[1]].hexColor=parseInt(n.replace(/^#/,""),16),a[l[0]].obs[l[1]].colorIsRandom=!1);this._jsonColors=t.colors}},{key:"toggleHandler",value:function e(o){this.toggle(!this.isOpened)}},{key:"close",value:function e(){this.toggle(!1)}},{key:"toggle",value:function e(){var o=arguments.length<=0||void 0===arguments[0]||arguments[0],t=this.filters;return this._node.style.display=o?"block":"none",this.isOpened=o,o?(this._node.colorsTemp={},this.referenz&&""!==this.referenz.value&&t[this.referenz.value]&&(this._node.dropdwn.value=this.referenz.value),this.dropFilterChanged(),void(this.onToggled&&this.onToggled(!0))):void(this.onToggled&&this.onToggled(!1))}},{key:"_makeHeightVisible",value:function e(o){var t=Number(o),r=Math.floor(t),n=1.2*(t-r);return String(r+n).replace(".","'")+'"'}},{key:"dropFilterChanged",value:function e(){var o=this,t=[],r=void 0,n={0:"no",1:"yes"},i=this._node.dropdwn.value,a=this.filters[i],s=void 0,l=void 0,c=void 0,d=void 0,u=void 0,v=void 0,p=void 0;for(u=_.keys(a.obs).sort(),v=0,p=u.length;v<p;v+=1)r=u[v],c=o._node.colorsTemp[i+"___"+r]||a.obs[r].color,d="h"===i?o._makeHeightVisible(r):r,t.push("<li class='"+(a.obs[r].colorIsRandom?"":"customized")+"' data-color='"+c+"' id='liColor_"+i+"___"+r+"'><span style='background:"+c+"'> </span>"+(a.tf?n[r]:d)+"&nbsp;</li>");this._node.ulColors.innerHTML=t.join(""),s=this._node.ulColors.getElementsByTagName("LI"),s&&0!==s.length&&(l=s[0],l.className+=" selected",this._currentOption=l,this._node.colorPickerJoe?this._node.colorPickerJoe.set(l.getAttribute("data-color")):(this._node.colorPickerJoe=colorjoe.rgb(this._node.colorPickerDiv,l.getAttribute("data-color"),["hex"]),this._node.colorPickerJoe.on("change",function(e){var t=o._currentOption.id.replace("liColor_",""),r=o._currentOption.getAttribute("data-color"),n=e.hex();o._currentOption.setAttribute("data-color",n),o._currentOption.getElementsByTagName("SPAN")[0].style.background=n,o._node.colorsTemp[t]=n,r!==n&&o._currentOption.className.indexOf("customized")<0&&(o._currentOption.className+=" customized")})))}},{key:"selectOption",value:function e(o){var t=this,r=o.target,n=void 0,i=void 0,a=void 0;if("LI"===r.tagName&&(n=this._node.ulColors.getElementsByTagName("LI"),!(r.className.indexOf("selected")>=0))){for(i=0,a=n.length;i<a;i+=1)r!==n[i]&&(n[i].className=n[i].className.replace("selected",""));setTimeout(function(){var e=r.getAttribute("data-color");r.className+=" selected",t._node.colorPickerJoe.set(e,!0),t._currentOption=r,setTimeout(function(){var o=t._node.colorPickerJoe.e.getElementsByTagName("INPUT");o&&o.length>0&&(o[0].value=e)},150)},150)}}},{key:"saveColors",value:function e(){var o=void 0,t=this._node.colorsTemp,r=this.filters,n={},i=[],a=void 0,s=void 0,l=void 0;for(o in t)a=o.split("___"),2===a.length&&(s=t[o],r[a[0]].obs[a[1]].color=s,r[a[0]].obs[a[1]].hexColor=parseInt(s.replace(/^#/,""),16),r[a[0]].obs[a[1]].colorIsRandom=!1,n[a[0]]||(n[a[0]]=!0),i.push({attributeKey:a[0],attributeValue:a[1],hexColor:s}));this.close(),this.onSaved&&this.onSaved(r,t,n),this.postUrl&&0!==i.length&&(l=new XMLHttpRequest,l.open("POST",this.postUrl),l.setRequestHeader("Content-Type","application/json"),l.onreadystatechange=function(){4===l.readyState&&200===l.status&&console.log(l.responseText)},l.send(JSON.stringify(i)))}},{key:"getColors",value:function e(){var o={},t=void 0,r=void 0,n=this.filters;for(t in n){o[t]={};for(r in n[t].obs)o[t][r]={color:n[t].obs[r].color,colorIsRandom:n[t].obs[r].colorIsRandom}}return o}}]),e}();t.ColorsWidget=l},{"../core/i18labels.js":3,"../utils/dom-utilities.js":4,"../utils/js-helpers.js":5}],3:[function(e,o,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="Loading 3D Model...";t.LOADING_DATA=r;var n="Error: Missing data source.";t.INVALID_DATA_SOURCE=n;var i="Error while parsing the JSON file.";t.ERROR_PARSING_JSON=i;var a="Click on colors to change them. <br /><em>A black dot means there is already a custom colour being used.</em>";t.CLICK_TO_CHANGE_COLORS=a;var s="No color settings found. Will use random.";t.NO_COLOR_SETTINGS=s;var l="Please select the document options";t.PRINTOPTS_TITLE=l;var c="Orientation";t.PRINTOPTS_ORIENTATION=c;var d="Landscape";t.PRINTOPTS_ORIENTATION_LANDSCAPE=d;var u="Portrait";t.PRINTOPTS_ORIENTATION_PORTRAIT=u;var v="Printer DPI";t.PRINTOPTS_DPI=v;var p="Paper Size";t.PRINTOPTS_SIZE=p;var h="GENERATE PDF";t.PRINTOPTS_GO=h;var f="Bays per row";t.PRINTOPTS_PERROW=f;var g="Colour by";t.PRINTOPTS_COLORBY=g;var m="Generating pages, please wait...";t.PRINTOPTS_PAGEPROGRESS=m;var _="Sending pages, please wait...";t.PRINTOPTS_SENDINGPAGES=_;var O="Download PDF";t.PRINTOPTS_DOWNLOAD=O},{}],4:[function(e,o,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(o){return o&&o.tagName&&("textarea"===o.tagName.toLowerCase()||"input"===o.tagName.toLowerCase()&&"text"===o.type.toLowerCase())};t.isInputOrTextarea=r;var n=function e(o){return"object"==typeof HTMLElement?id instanceof HTMLElement:"object"==typeof id&&1===id.nodeType&&"string"==typeof id.nodeName};t.isHtmlNode=n;var i=function e(o,t,r){window.attachEvent?(o["e"+t+r]=r,o[t+r]=function(){o["e"+t+r](window.event)},o.attachEvent("on"+t,o[t+r])):o.addEventListener(t,r,!1)};t.addEventLnr=i;var a=function e(o){if(window.Event&&"function"==typeof window.Event)return new Event(o);var t=document.createEvent("Event");return t.initEvent(o,!0,!0),t};t.addEventDsptchr=a},{}],5:[function(e,o,t){"use strict";function r(e,o,t){e?o.apply(null,arguments):t.apply(null,arguments)}function n(e,o){var t=!1;"#"==e[0]&&(e=e.slice(1),t=!0);var r=parseInt(e,16),n=(r>>16)+o;n>255?n=255:n<0&&(n=0);var i=(r>>8&255)+o;i>255?i=255:i<0&&(i=0);var a=(255&r)+o;return a>255?a=255:a<0&&(a=0),(t?"#":"")+(a|i<<8|n<<16).toString(16)}Object.defineProperty(t,"__esModule",{value:!0}),t.callOnCondition=r,t.lightenDarkenColor=n;var i=function e(o){return Array.isArray?Array.isArray(o):o instanceof Array};t.isArray=i;var a=function e(o,t){var r=void 0,n=JSON.parse(JSON.stringify(o));if(t)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=t[r]);return n};t.extend=a;var s=function e(o,t){return o-t};t.sortNumeric=s;var l=function e(o){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],r=arguments.length<=2||void 0===arguments[2]||arguments[2],n=o;return t&&(n=n.replace(/^\s\s*/,"")),r&&(n=n.replace(/\s\s*$/,"")),n};t.trimString=l;var c=function e(o){var t=void 0,r=void 0,n=new Set;for(t=0,r=o.length;t<r;t+=1){var i=l(o[t]);n.has(i)||n.add(i)}return ouputSet};t.arrayToSet=c;var d=function e(o,t){var r=void 0,n=[];for(r in o)n.push(r);return t&&(n=n.sort(s)),n};t.objKeysToArray=d;var u=function e(o){var t=Number(o).toString(16);return t="000000".substr(0,6-t.length)+t,t.toUpperCase()};t.decimalToHex=u;var v=function e(o,t){var r="000"+String(o);return r.substr(r.length-t)};t.pad=v;var p=function e(){for(var o=document.location.search.split("+").join(" "),t={},r=void 0,n=/[?&]?([^=]+)=([^&]*)/g;r=n.exec(o);)t[decodeURIComponent(r[1])]=decodeURIComponent(r[2]);return t};t.getQueryParams=p},{}]},{},[1]);